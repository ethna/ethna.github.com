<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
 <meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8" />
 <meta http-equiv="content-style-type" content="text/css" />
 <meta http-equiv="Content-Script-Type" content="text/javascript" />

<title>
アプリケーション構築手順(1) - Ethna - PHPウェブアプリケーションフレームワーク</title>
 <link rel="stylesheet" href="skin/ethna/ethna.css" title="ethna" type="text/css" charset="utf-8" />

 <link rel="alternate" type="application/rss+xml" title="RSS" href="cmd=rss.html" />

 <script type="text/javascript" src="skin/trackback.js"></script>


</head>

<body>
<div id="alert-message-top">ここは以前の ethna.jp サイトを表示したものです。ここにあるドキュメントはバージョン2.6以降更新されません。<br/>
最新のドキュメントは <a href="http://ethna.jp/">現在のethna.jp</a> を閲覧してください。現ドキュメントが整備されるまでは、ここを閲覧してください。</div>
<div id="wrapper"><!-- ??BEGIN id:wrapper -->
<!-- ?? Navigator ?? ======================================================= -->
<div id="navigator">
    <p class="navlogo"><a href="/"><img src="image/navlogo.gif" height="22" width="82" alt="Ethna" /></a>
	<p><a href="ethna.html" title="ethna (11d)">トップ</a>
<a href="ethna-news.html" title="ethna-news (11d)">二ュース</a>
<a href="ethna-about.html" title="ethna-about (11d)">概要</a>
<a href="ethna-download.html" title="ethna-download (25d)">ダウンロード</a>
<a href="ethna-document.html" title="ethna-document (884d)">ドキュメント</a>
<a href="ethna-community.html" title="ethna-community (619d)">コミュニティ</a>
<a href="ethna-document-faq.html" title="ethna-document-faq (1240d)">FAQ</a></p>
</p>
</div>

<!-- ?? Header ?? ========================================================== -->
<div id="header">
<div id="logo" class="normalpage"><div class="headline"><div class="pagetitle"><h1>アプリケーション構築手順(1) </h1></div></div></div>
</div>

<!-- ?? Content ?? ========================================================= -->

<div id="main"><!-- ??BEGIN id:main -->
<div id="wrap_content"><!-- ??BEGIN id:wrap_content -->
<div id="content"><!-- ??BEGIN id:content -->
<div id="page_navigator"><!-- ??BEGIN id:page_navigator -->
	
</div><!-- ??END id:PageNavigator -->

<div id="body"><!-- ??BEGIN id:body -->
<a href="index.html">Ethna </a> &gt; <a href="ethna-document.html">ドキュメント </a> &gt; <a href="ethna-document-tutorial.html">チュートリアル </a> &gt; アプリケーション構築手順(1) 
<h2 id="content_1_0">アプリケーション構築手順(1)  <a class="anchor_super" id="hbd53ffa" href="ethna-document-tutorial-practice1.html#hbd53ffa" title="hbd53ffa"> </a></h2>
<div class="contents">
<a id="contents_1"></a>
<ul class="list1" style="padding-left:16px;margin-left:16px"><li><a href="#hbd53ffa">  アプリケーション構築手順(1) </a>
<ul class="list2" style="padding-left:16px;margin-left:16px"><li><a href="#ud75ed71">  (0) アプリケーション情報の決定 </a></li>
<li><a href="#v5252856">  (1) アプリケーションの自動生成 </a>
<ul class="list3" style="padding-left:16px;margin-left:16px"><li><a href="#oe2592c1">  ethnaコマンドが実行できるか確認する </a></li>
<li><a href="#rb977745">  ethnaコマンドが実行できない場合 </a></li>
<li><a href="#z7d5f0d3">  アプリケーションを作成する </a></li></ul></li>
<li><a href="#v357dcce">  (2) エントリポイントの設定 </a></li>
<li><a href="#yfa7881f">  (3) ディレクトリ構成の確認 </a></li></ul></li></ul>
</div>

<div class="ie5"><table class="style_table" cellspacing="1" border="0"><tbody><tr><td class="style_td">書いた人</td><td class="style_td">DQNEO</td><td class="style_td">2010-04-10</td><td class="style_td">古い記述を修正</td></tr><tr><td class="style_td">書いた人</td><td class="style_td">DQNEO</td><td class="style_td">2010-04-28</td><td class="style_td">初心者向けにわかりやすくした</td></tr></tbody></table></div>
<p>Ethnaを利用したアプリケーションの構築手順についてご説明します。</p>

<h3 id="content_1_1">(0) アプリケーション情報の決定  <a class="anchor_super" id="ud75ed71" href="ethna-document-tutorial-practice1.html#ud75ed71" title="ud75ed71"> </a></h3>
<p>アプリケーションを構築する前に、少なくとも以下の2点を決定しておく必要があります。</p>
<ol class="list1" style="padding-left:16px;margin-left:16px"><li>アプリケーションID(英字のみ)<br />
<pre>例: Sample</pre></li>
<li>アプリケーション配置ディレクトリ(どこでも構いません)<br />
<pre>例: /home/example/codes/とかC:\codes\php\とか適当に</pre></li></ol>

<h3 id="content_1_2">(1) アプリケーションの自動生成  <a class="anchor_super" id="v5252856" href="ethna-document-tutorial-practice1.html#v5252856" title="v5252856"> </a></h3>
<p>ethnaコマンドを利用してアプリケーションを使って生成します。</p>

<h4 id="content_1_3">ethnaコマンドが実行できるか確認する  <a class="anchor_super" id="oe2592c1" href="ethna-document-tutorial-practice1.html#oe2592c1" title="oe2592c1"> </a></h4>
<pre>$ ethna add-project
error occured w/ command [add-project]
 -&gt; Application id isn't set.

usage:
ethna add-project [-b|--basedir=dir] [-s|--skeldir] [-l|--locale] [-e|--encoding] [Application id]</pre>

<h4 id="content_1_4">ethnaコマンドが実行できない場合  <a class="anchor_super" id="rb977745" href="ethna-document-tutorial-practice1.html#rb977745" title="rb977745"> </a></h4>
<p>Ethnaをまだダウンロードしてない場合は<a href="ethna-download.html" title="ethna-download (25d)">ダウンロード</a>してください。</p>
<p>ethnaコマンドの実体は、アーカイブのbinディレクトリに含まれるバッチ(シェル)スクリプトです。
ethnaコマンドをインストールしていない場合は、下記のようにバッチ(シェル)スクリプトを直接実行することでethnaコマンドを実行できます。</p>
<p>Windowsの場合</p>
<pre>&gt; c:\foo\bar\Ethna\bin\ethna.bat</pre>
<p>Unix系の場合</p>
<pre>$ /foo/bar/Ethna/bin/ethna.sh</pre>

<h4 id="content_1_5">アプリケーションを作成する  <a class="anchor_super" id="z7d5f0d3" href="ethna-document-tutorial-practice1.html#z7d5f0d3" title="z7d5f0d3"> </a></h4>
<p>例として、アプリケーションIDが「sample」、アプリケーション配置ディレクトリが/tmpだとすると以下のようになります(CGI版もしくはCLI版のphpが必要です)。</p>
<pre>$ ethna add-project -b /tmp/sample sample
creating directory (/tmp/sample) [y/n]:project sub directory created [/tmp/sample/app]

creating directory (/tmp/sample) [y/n]: y
project sub directory created [/tmp/sample/app]
project sub directory created [/tmp/sample/app/action]

[中略]

file generated [./Ethna/skel/skel.template.tpl -&gt; /tmp/sample/skel/skel.template.tpl]
file generated [./Ethna/skel/skel.view_test.php -&gt; /tmp/sample/skel/skel.view_test.php]

project skelton for [sample] is successfully generated at [/tmp/sample]</pre>
<p>以上で、最小構成のアプリケーションが生成されます。</p>

<h3 id="content_1_6">(2) エントリポイントの設定  <a class="anchor_super" id="v357dcce" href="ethna-document-tutorial-practice1.html#v357dcce" title="v357dcce"> </a></h3>
<p>(1)で生成したアプリケーションにアクセスするには、wwwディレクトリに生成されているindex.phpをウェブサーバを通じてアクセス可能な適当なディレクトリにコピー、あるいはシンボリックリンクを作成します。
また、wwwディレクトリ以下のcssディレクトリもディレクトリごと当該ディレクトリにコピーします。</p>
<p>ここでは最も簡単な例として、~/public_htmlにindex.phpとcssディレクトリを配置します。</p>
<pre>$ cd ~/public_html/
$ ln -s /tmp/sample/www/index.php .
$ cp -r /tmp/sample/www/css ./css</pre>
<p>以上で設定は完了です。ブラウザから</p>
<pre>http://some.host/~foo/</pre>
<p>というようにアクセスしてみてください。正しくプロジェクトが生成されていると、以下のような画面が表示されるかと思います。</p>
<div class="img_margin" style="text-align:left"><a href="http://dqn.sakusakutto.jp/ethna/ethna-helloworld-thumb-426x262.jpg" title="ethna-helloworld-thumb-426x262.jpg"><img src="http://dqn.sakusakutto.jp/ethna/ethna-helloworld-thumb-426x262.jpg" alt="ethna-helloworld-thumb-426x262.jpg" title="ethna-helloworld-thumb-426x262.jpg" /></a></div>


<h3 id="content_1_7">(3) ディレクトリ構成の確認  <a class="anchor_super" id="yfa7881f" href="ethna-document-tutorial-practice1.html#yfa7881f" title="yfa7881f"> </a></h3>
<p>Ethnaを利用したアプリケーションの標準的なディレクトリ構成は以下のようになります。</p>
<pre>|-- app         (アプリケーションのスクリプト)
|   |-- action  (アクションスクリプト)
|   |-- action_cli  (CLI用アクションスクリプト)
|   |-- action_xmlrpc  (XMLRPC用アクションスクリプト)
|   |-- plugin  (フィルタスクリプト)
|   |-- test    (テストスクリプト)
|   `-- view    (ビュースクリプト)
|-- bin         (コマンドラインスクリプト)
|-- etc         (設定ファイル等)
|-- lib         (アプリケーションのライブラリ)
|-- locale
|   `-- ja_JP
|-- log         (ログファイル)
|-- schema      (DBスキーマ等)
|-- skel        (アプリケーション用スケルトンファイル)
|-- template
|   `-- ja_JP   (テンプレートファイル)
|-- tmp         (一時ファイル)
`-- www         (ウェブ公開用ファイル)
    |-- css     (CSSファイル)
    |-- js      (JavaScriptファイル)
</pre>
<p>たくさんありますが、必ずしもこれら全てを使う必要はありません。</p>
<p>よく使うのは下記のディレクトリです。</p>
<ul class="list1" style="padding-left:16px;margin-left:16px"><li>app</li>
<li>app/action</li>
<li>app/view</li>
<li>template/ja_JP</li></ul>
<p>具体的なアプリケーションの作成については<a href="ethna-document-tutorial-practice2.html" title="ethna-document-tutorial-practice2 (888d)">アプリケーション構築手順(2)</a>を御覧下さい。</p>
</div><!-- ??END id:body -->
<div id="summary"><!-- ??BEGIN id:summary -->
<!-- ??END id:note -->
<div id="trackback"><!-- ??BEGIN id:trackback -->

</div><!-- ?? END id:trackback -->


<!-- ?? BEGIN id:attach -->
<div id="attach">
<hr class="full_hr" />添付ファイル: <a href="plugin=attach&amp;pcmd=open&amp;file=sample.png&amp;refer=ethna-document-tutorial-practice1.html" title="2011/10/02 03:03:56 19.7KB"><img src="image/file.png" width="20" height="20" alt="file" style="border-width:0px" />sample.png</a> <span class="small">21件</span>
<span class="small">[<a href="plugin=attach&amp;pcmd=info&amp;file=sample.png&amp;refer=ethna-document-tutorial-practice1.html" title="添付ファイルの情報">詳細</a>]</span>
 
</div>
<!-- ?? END id:attach -->
</div><!-- ?? END id:summary -->
</div><!-- ??END id:content -->
</div><!-- ?? END id:wrap_content -->
<!-- ??sidebar?? ========================================================== -->
<div id="wrap_sidebar"><!-- ??BEGIN id:wrap_sidebar -->
<div id="sidebar">

<div id="search_form" class="bar"><!-- ??BEGIN id:search_form -->
<div class="sidebar_head"><h2>検索</h2></div>
<div class="sidebar_body">
        <div>
    <form action="http://ethna.jp/index.php?cmd=search" method="post">
            <input type="hidden" name="encode_hint" value="??" />
            <input type="text"  name="word" value="" size="20" />
            <input type="submit" value="検索" /><br />
            <input type="radio" name="type" value="AND" checked="checked" id="and_search" /><label for="and_search">AND検索</label>
            <input type="radio" name="type" value="OR" id="or_search" /><label for="or_search">OR検索</label>
    </form>
        </div>
</div>
</div><!-- END id:search_form -->

<div id="download_link" class="bar"><!-- ??BEGIN id:download_link -->
    <div class="sidebar_head"><h2>ダウンロード</h2></div>
    <div class="sidebar_body">
        <p><a href="ethna-download.html"><img src="image/minilogo.gif" />Ethna-2.6.0(beta2)</a></p>
        <p><a href="ethna-download.html"><img src="image/minilogo.gif" />Ethna-2.5.0(stable)</a></p>
</p>
</div>
</div><!-- END id:download_link -->


<div id="download_link" class="bar"><!-- ??BEGIN id:download_link -->
    <div class="sidebar_head"><h2>Quick Links</h2></div>
    <div class="sidebar_body" style="padding: 4px 8px 4px 12px;">
	    <ul style="list-style-type: none;">
		<li style="padding: 1px;"><a href="ethna-community-forum.html">フォーラム(質問/要望等)</a></li>
		<li style="padding: 1px;"><a href="http://ml.ethna.jp/mailman/listinfo/users">メーリングリスト</a></li>
	    </ul>
	    <ul style="list-style-type: none; padding-top: 8px;">
		<li style="padding: 1px;"><a href="ethna-document-tutorial.html">チュートリアル</a></li>
		<li style="padding: 1px;"><a href="ethna-document-dev_guide.html">開発マニュアル</a></li>
		<li style="padding: 1px;"><a href="ethna-document-changes.html">変更点一覧</a></li>
	    </ul>
	    <ul style="list-style-type: none; padding-top: 8px;">
		<li style="padding: 1px;"><a href="TODO.html">TODO(ロードマップ)</a></li>
		<li style="padding: 1px;"><a href="ethna-logo.html">ロゴ</a></li>
	    </ul>
    </div>
</div><!-- END id:download_link -->




<div id="search_form" class="bar"><!-- ??BEGIN id:search_form -->
<div class="sidebar_head"><h2>Powered by GREE</h2></div>
<div class="sidebar_body">
        <div style="padding-left: 8px;">
		<a href="http://labs.gree.jp/" target="_blank"><img src="http://labs.gree.jp/image/greelabs_logo.gif" alt="GREE Labs" /></a>
        </div>
</div>
</div><!-- END id:search_form -->


<div>
	<a href="http://sourceforge.jp/"><img src="http://sourceforge.jp/sflogo.php?group_id=1343" width="96" height="31" border="0" alt="SourceForge.jp"></a></div>

</div><!-- ??END id:sidebar -->
</div><!-- ??END id:wrap_sidebar -->
</div><!-- ??END id:main -->
<!-- ?? Footer ?? ========================================================== -->
<div id="footer"><!-- ??BEGIN id:footer -->
<div id="copyright"><!-- ??BEGIN id:copyright -->
 <strong>PukiWiki 1.4.6</strong> Copyright &copy; 2001-2005 <a href="http://pukiwiki.sourceforge.jp/">PukiWiki Developers Team</a>. License is <a href="http://www.gnu.org/licenses/gpl.html">GPL</a>.<br /> Based on "PukiWiki" 1.3 by <a href="http://factage.com/yu-ji/">yu-ji</a>.
</div><!-- ??END id:copyright -->
</div><!-- ??END id:footer -->
<!-- ?? END ?? ============================================================= -->
</div><!-- ??END id:wrapper -->

</body>
</html>
